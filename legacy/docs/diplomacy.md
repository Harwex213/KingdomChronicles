# Внешняя политика

---

## Дипломатия с игроками

Игрок с остальными игрокам (*их государствами*) сможет быть только в состоянии мира 
или войны. Технически никаких альянсов не будет (*только на договорённостях игроков*)

> KingdomsRelationTypes
> - Мир - нельзя заходить на территорию государства
> - Война - можно заходить на территорию государства; войска в регионах будут вступать 
> в битву

Также, есть ряд договоров, которые можно заключить с игроком будучи в мире. Как только 
начинается война, они автоматически разрываются. Эти договоры могут быть в коде отмечены 
как флаги (*булевые значения*):

> KingdomAgreementsTypes
> - Право прохода - можно заходить на территорию государства
> - Торговый Союз - можно отправлять караваны в центры власти по тем предложениям, что 
> делает владелец этого центра власти (*смотри экономическую систему*)

### Сделка

Игроки могут между собой заключать сделки, подобно любой 4Х стратегии (цивилизации, 
например). В сделке могут включаться пункты:

- заключение мира
- заключение договора (KingdomAgreement) 
- передача регионов под контроль другого игрока
- передача золота

Война объявляется односторонне. *Получается, о ней как бы просто сообщают - мы теперь 
воюем, братан.*

### Communication in Role-Play only mode [Идея-only]

Допустим, игрок при создании игры сможет в настройках поставить галочку режима игры, при 
котором чата в обычном понимании не будет. Вместо этого нужно будет отправлять "голубей" 
другим игрокам и сообщения до них будут доходить соразмерно расстоянию.

Это потребует рассчитывать расстояние между адресантами, а также понять какие точки брать 
в качестве отправителя и получателя сообщений. (Можно, например, сделать внутреннее здание 
для постройки - голубиная почта)

## Присоединение нейтральных регионов

Процесс присоединения нейтральных регионов сводится к 2 этапам:

### 1) Установка взаимоотношений с туземцами [Идея-Only]

*Данный этап опционален. В версии 1.0.0 не станем реализовывать*

Это можно сделать двумя способами:

- **военным**: направить армию в регион и перевести её в состояние установки взаимоотношений с 
туземцами. После этого все юниты армии моментально теряют запас боевого духа до нуля и не 
восстанавливают его, пока не выйдут из этого состояния.
- **дипломатическим**: игрок строит специальное внутреннее здание в ЦВ. После этого установить 
взаимоотношения с туземцами можно подкупая их, то есть это требует содержания монеты в ход.

### 2) Колонизация

Процесс колонизации региона состоит из следующих этапов:

1) Игрок строит специальное внутреннее здание - **Центр колоний**. (*смотри экономическую систему*)

Здание имеет определенную **стоимость в ресурсах** [immutableValue]. Является **уникальным внутри 
государства**, то его можно иметь лишь в одном ЦВ. Здание обеспечивает действие по **созданию 
колонистов** в нём. Это занимает **определенное количество тиков** [immutableValue]. Требует 
**определенного количества ресурсов на подготовку** [immutableValue].

**Характеристики Центра колоний; внутреннее здание [object]**:
- **максимальное количество колонистов** [immutableValue]
- **текущее количество колонистов** [mutableValue]
- **очередь подготовки колонистов** [array]. Состоит из значений тиков, показывающих сколько 
  осталось до подготовки. Когда достигает <= 0, то значение удаляется из очереди и увеличивается 
  текущее количество колонистов. Изначально значение равно тико-затратам на подготовку.

2) Отправка колониста и накопление очков колонизации

После постройки такого здания в любом ЦВ, у игрока появляется новое действие в нейтральных регионах 
\- **отправка колониста**. Движение колониста занимает **определенное количество тиков** 
[immutableValue] - *пока что не зависит от расстояния отправки*. После отправки уменьшает в здании 
текущее количество колонистов. Можно отменить, однако при этом потраченные ресурсы не возвращаются.

**Дополнительные характеристики нейтрального региона** [object]:
- **прогресс колоний** [array]. Состоит из объектов, которые имеют свойства:
  - количество накопленных очков колонии [mutableValue]
  - количество действующий колонистов [mutableValue]
  - очередь движения колонистов в регион [array] - при добавлении в очередь равно тико-затрататам
    на движение до региона. Когда достигает <= 0, то удаляется из очереди и увеличивает количество
    действующих сейчас колонистов у игрока
  - игрок-владелец [immutableValue]

Каждый действующий колонист приносит определенное **количество очков колонизации** [immutableValue]
и отнимает определенное **количество золота** [immutableValue]. При накоплении одним из игроков 
**нужного количества очков колонизации** [immutableValue] регион переходит к нему - дополнительные 
характеристики удаляются и вместе с ним действие по отправке колониста.
